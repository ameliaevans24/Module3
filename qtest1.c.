/* qtest1.c ---                                                                                                                                                                                             
 *                                                                                                                                                                                                          
 *                                                                                                                                                                                                          
 * Author: Rashad C. Brown-Mitchell I.                                                                                                                                                                      
 * Created: Sun Oct  8 13:15:24 2023 (-0400)                                                                                                                                                                
 * Version:                                                                                                                                                                                                 
 *                                                                                                                                                                                                          
 * Description:                                                                                                                                                                                             
 *                                                                                                                                                                                                          
 */                                                                                                                                                                                                         
                                                                                                                                                                                                            
#include "queue.h"                                                                                                                                                                                          
#include <stdlib.h>                                                                                                                                                                                         
#include <stdio.h>                                                                                                                                                                                          
                                                                                                                                                                                                            
#define MAXREG 15                                                                                                                                                                                           
                                                                                                                                                                                                            
// Define car struct                                                                                                                                                                                        
typedef struct car {                                                                                                                                                                                        
  struct car *next;                                                                                                                                                                                         
  char plate[MAXREG];                                                                                                                                                                                       
  double price;                                                                                                                                                                                             
  int year;                                                                                                                                                                                                 
} car_t;                                                                                                                                                                                                    
                                                                                                                                                                                                            
int main(){                                                                                                                                                                                                 
                                                                                                                                                                                                            
  // Verify that queue opens properly                                                                                                                                                                       
  void* qp1 = qopen();                                                                                                                                                                                      
  printf("The address of Queue 1 is %p\n", qp1);                                                                                                                                                            
  //exit(EXIT_SUCCESS);                                                                                                                                                                                     
                                                                                                                                                                                                            
  void* qp2 = qopen();                                                                                                                                                                                      
  printf("The adress of Queue 2 is %p\n", qp2);                                                                                                                                                             
                                                                                                                                                                                                            
  // Make an element to go into queue                                                                                                                                                                       
  car_t car1 = {NULL, "ABC123", 20000, 2020};                                                                                                                                                               
                                                                                                                                                                                                            
  // Verify that element enters queue                                                                                                                                                                       
  qput(qp1, &car1);                                                                                                                                                                                         
  qput(qp2, &car1);                                                                                                                                                                                         
  //exit(EXIT_SUCCESS);                                                                                                                                                                                     
                                                                                                                                                                                                            
  // Verify that queue is closed                                                                                                                                                                            
  qclose(qp1);                                                                                                                                                                                              
  qclose(qp2);                                                                                                                                                                                              
                                                                                                                                                                                                            
  //printf("\nThe address of Queue 1 is now %p\n", qp1);                                                                                                                                                    
  //printf("The address of Queue 2 is now %p\n", qp2);                                                                                                                                                      
  exit(EXIT_SUCCESS);                                                                                                                                                                                       
                                                                                                                                                                                                            
}                                                                                                                                                                                                           
                                              
